<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Mario Dryas - Take Home Tax Calculator</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>

  <header class="page-header">
    <h1>Take Home Tax Calculator</h1>
    <p class="subtitle">Calculate your take home income after Tax, National Insurance, Pension contributions and Student loans.</p>
    <button id="theme-toggle" aria-label="Toggle theme">
      <span class="sun-icon">‚òÄÔ∏è</span>
      <span class="moon-icon">üåô</span>
    </button>
  </header>

  <div class="container">

    <div class="pension">
      <h2>Pension</h2>
      <p class="section_notice">Currently only supports gross salary sacrifice contributions*</p>
      <label>Pension Contribution %: <input type="number" inputmode="numeric" id="pension_contribution_input"></label>
      <p>Annual Pension Contribution: <span id="annual_pension_contribution"></span></p>
      <p>Monthly Pension Contribution: <span id="monthly_pension_contribution"></span></p>
    </div>


    <div class="income_tax">
    <h2>Income Tax</h2>
      <label>Gross Salary: <input type="number" inputmode="numeric" id="gross_salary_input"></label>
      <p>Gross Income Minus Pension: <span id="gross_income_minus_pension"></span></p>
      <p>100k Personal Allowance rule: <span id="personal_allowance_rule"></span></p>
      <p>100k Personal Allowance Deduction: <span id="personal_allowance_deduction"></span></p>
      <p>Applicable Tax Rate: </th><th><span id="applicable_tax_rate"></span></p>
      <p>Personal Allowance: <span id="personal_allowance"></span></p>

      <table>
        <tr>
          <th>Tax Rate Tier</th>
          <th>Taxable Income</th>
          <th>Tax Rate</th>
          <th>Taxable Pay</th>
        </tr>
        <tr>
          <td>Basic rate</td>
          <td><span id="basic_rate_taxable_income"></span></td>
          <td>20%</td>
          <td><span id="basic_rate_taxable_pay"></td>
        </tr>
        <tr>
          <td>Higher rate</td>
          <td><span id="higher_rate_taxable_income"></span></td>
          <td>40%</td>
          <td><span id="higher_rate_taxable_pay"></td>
        </tr>
        <tr>
          <td>Additional rate</td>
          <td><span id="additional_rate_taxable_income"></span></td>
          <td>45%</td>
          <td><span id="additional_rate_taxable_pay"></td>
        </tr>
      </table>

      <p>Taxable Income: <span id="taxable_income"></span></p>
      <p>Total Tax Payable: <span id="total_tax_payable"></span></p>
      <p>Post Tax Income: <span id="post_tax_income"></span></p>
    </div>


    <div class="student_finance">
      <h2>Student Finance</h2>
      <p class="section_notice">Select all plans that apply to you*</p>

      <div class="plan-checkboxes">
        <label class="checkbox-label">
          <input type="checkbox" id="plan_1" onchange="updateAllCalculations()">
          Plan 1
        </label>
        <label class="checkbox-label">
          <input type="checkbox" id="plan_2" onchange="updateAllCalculations()">
          Plan 2
        </label>
        <label class="checkbox-label">
          <input type="checkbox" id="plan_4" onchange="updateAllCalculations()">
          Plan 4
        </label>
        <label class="checkbox-label">
          <input type="checkbox" id="plan_5" onchange="updateAllCalculations()">
          Plan 5
        </label>
        <label class="checkbox-label">
          <input type="checkbox" id="postgraduate" onchange="updateAllCalculations()">
          Postgraduate
        </label>
      </div>

  <!-- Threshold table stays the same -->
  <!-- Thresholds table -->
      <table>
        <tr>
          <th>SF Thresholds</th>
          <th>Plan 1</th>
          <th>Plan 2</th>
          <th>Plan 4</th>
          <th>Plan 5</th>
          <th>Postgraduate</th>
        </tr>
        <tr>
          <td>Annually</td>
          <td><span id="plan_1_threshold"></span></td>
          <td><span id="plan_2_threshold"></span></td>
          <td><span id="plan_4_threshold"></span></td>
          <td><span id="plan_5_threshold"></span></td>
          <td><span id="plan_postgrad_threshold"></span></td>
        </tr>
        <tr>
          <td>Monthly</td>
          <td><span id="plan_1_threshold_month"></span></td>
          <td><span id="plan_2_threshold_month"></span></td>
          <td><span id="plan_4_threshold_month"></span></td>
          <td><span id="plan_5_threshold_month"></span></td>
          <td><span id="plan_postgrad_threshold_month"></span></td>
        </tr>
        <tr>
          <td>Rate</td>
          <td>9%</td>
          <td>9%</td>
          <td>9%</td>
          <td>9%</td>
          <td>6%</td>
        </tr>
      </table>

  <!-- Simplified results table -->
      <table>
        <tr>
          <th>Plan</th>
          <th>Monthly Payment</th>
          <th>Annual Payment</th>
        </tr>
        <tbody id="sf_breakdown">
          <!-- Rows generated dynamically -->
        </tbody>
        <tr class="total-row">
          <th>Total</th>
          <td id="total_monthly_sf"></td>
          <td id="total_annual_sf"></td>
        </tr>
      </table>
    </div>


    <div class="national_insurance">
      <h2>National Insurance (NI)</h2>
      <p class="section_notice">Does not yet cover Class 2 National Insurance contributions*</p>
      <p>NI Taxable Income: <span id="ni_taxable_income"></span></p>

      <table>
        <tr>
          <th>NI Rate Tier</th>
          <th>Taxable Income</th>
          <th>NI Rate</th>
          <th>NI Tax</th>
        </tr>
        <tr>
          <td>Basic rate</td>
          <td><span id="ni_basic_rate_taxable_income"></span></td>
          <td>8%</td>
          <td><span id="ni_basic_rate_taxable_pay"></td>
        </tr>
        <tr>
          <td>Higher rate</td>
          <td><span id="ni_higher_rate_taxable_income"></span></td>
          <td>2%</td>
          <td><span id="ni_higher_rate_taxable_pay"></td>
        </tr>
      </table>

      <p>Annual National Insurance: <span id="total_ni"></span></p>
      <p>Monthly National Insurance: <span id="monthly_ni"></span></p>
    </div>


    <div class="net_figures">
      <h2>Earnings summary</h2>
      <p>Gross Annual Salary: <span id="gross_annual_salary"></span></p>
      <p>Gross Monthly Salary: <span id="gross_monthly_salary"></span></p>
      <p>Gross Weekly Salary: <span id="gross_weekly_salary"></span></p>
      <p>Gross Daily Salary: <span id="gross_daily_salary"></span></p>
      <p>Gross Hourly Salary: <span id="gross_hourly_salary"></span></p>
        <br>
      <p>Net Annual Take Home: <span id="net_take_home_figure"></span></p>
      <p>Net Monthly Take Home: <span id="net_monthly_take_home_figure"></span></p>
        <br>
      <p>Annual Pension Contribution: <span id="annual_pension_figure"></span></p>
      <p>Monthly Pension Contribution: <span id="monthly_pension_figure"></span></p>
      <br>
      <p>Annual Student loan repayment: <span id="annual_sf_figure"></span></p>
      <p>Monthly Student loan repayment: <span id="monthly_sf_figure"></span></p>
        <br>
      <p>Annual National Insurance: <span id="annual_ni_figure"></span></p>
      <p>Monthly National Insurance: <span id="monthly_ni_figure"></span></p>
    </div>

  </div>


  <script type="text/javascript" src="script.js"></script>
  </body>
</html>
